doctype html

include ../mixins/api

html
  head
    meta(charset='utf-8')
    meta(name='viewport', content='initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width')
    title JSON Viewer
    link(href='https://fonts.googleapis.com/css?family=Roboto+Mono:100,300,400,500,700', rel='stylesheet')
    style.
      body {
        font-size: 15px;
        font-family: 'Roboto Mono', monospace;
        color: #888888;
        font-weight: 400;
        line-height: 1.5;
        padding: 2em;
        margin: 0;
      }
      a {
        color: inherit;
      }
      ul, ol {
        list-style-type: none;
        border-left: 1px solid #EEEEEE;
        padding-left: 2em;
        margin: 0;
      }
      ul li:after,
      ol li:after {
        content: ',';
      }
      ul li:last-child:after,
      ol li:last-child:after {
        content: '';
      }
      div.key,
      div.value {
        display: inline;
      }
      div.key:before {
        content: '';
      }
      div.key:after {
        content: ':';
        margin-right: 0.5em;
      }
      div.value.string {
        color: #0B7500;
      }
      div.value.string:before,
      div.value.string:after {
        content: '"';
      }
      div.value.number,
      div.value.boolean,
      div.value.null {
        color: #1A01CC;
        font-weight: 700;
      }
      div.value.object:after,
      div.value.array:after {
        background-color: white;
        margin-left: -0.25em;
      }
      div.value.object:before {
        content: '{';
      }
      div.value.object:after {
        content: '}';
      }
      div.value.array:before {
        content: '[';
      }
      div.value.array:after {
        content: ']';
      }
      body > div.value.object:before,
      body > div.value.array:before {
        background-color: white;
        margin-left: -0.25em;
      }
  body
    if data
      - data = JSON.parse(JSON.stringify(data))
      +display([], data)
